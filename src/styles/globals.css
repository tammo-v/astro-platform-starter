@import 'tailwindcss';

@theme {
  --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --color-primary: #f67280;
  --color-primary-content: #101828;
  --color-complementary: #355c7d;
  --aubergine: #5c3a5c;
  --background-image-noise: linear-gradient(
      to bottom,
      color-mix(in oklab, var(--color-gray-950) 0%, transparent),
      color-mix(in oklab, var(--color-gray-950) 100%, transparent)
    ),
    url('/images/noise.png');
}

@layer base {
  body {
    font-family: var(--font-sans);
    background-color: white !important;
    color: black !important;
  }

  h1 {
    @apply text-2xl font-semibold tracking-tight;
  }

  h2 {
    @apply text-xl font-medium;
  }

  a:not(.btn) {
    @apply underline transition hover:opacity-80;
  }

  pre {
    @apply overflow-x-auto;
    padding: 0;
    border-radius: 0;
    background: none;
    font-size: 0.95rem;
    color: #111827;
  }

  pre code {
    background: none;
    padding: 0;
    font-size: inherit;
    color: inherit;
    border-radius: 0;
  }

  :not(pre) > code {
    background: none !important;
    background-color: transparent !important;
    border-radius: 0 !important;
    padding: 0 !important;
    font-family: monospace;
    font-size: 1rem;
    color: #1f2937;
  }
} /* ← this closes @layer base */

@layer components {
  .markdown {
    > * {
      @apply my-6;
    }

    :where(h1, h2) {
      @apply mt-12 mb-6;
    }

    > :first-child {
      @apply mt-0;
    }

    > :last-child {
      @apply mb-0;
    }
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 bg-primary text-primary-content cursor-pointer text-center font-semibold no-underline transition-colors;
    padding: var(--btn-py, 0.875rem) var(--btn-px, 1.25rem);
    font-size: var(--btn-font-size, 0.875rem);
    border-radius: var(--btn-border-radius, 0.25rem);

    &:hover {
      @apply bg-primary/85;
    }

    &:disabled {
      @apply text-gray-400 bg-gray-700;
    }
  }

  .btn-lg {
    --btn-font-size: 1.125rem;
    --btn-px: 1.5rem;
    --btn-py: 1.125rem;
  }
}

/* Markdown content styling */
.markdown h1,
.markdown h2,
.markdown h3 {
  font-family: 'DM Sans', 'Inter', sans-serif;
}

.markdown h1 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.markdown h2 {
  font-size: 1.25rem;
  font-weight: 500;
  margin-top: 1.75rem;
  margin-bottom: 1rem;
}

.markdown h3 {
  font-size: 1.125rem;
  font-weight: 400;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.markdown code {
  background-color: #f3f4f6;
  padding: 0.15rem 0.3rem;
  font-size: 0.875rem;
  border-radius: 0.2rem;
}

.markdown ul {
  list-style-type: disc;
  padding-left: 1.5rem;
  margin-top: 1rem;
  margin-bottom: 1.5rem;
}

.markdown li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* Final override: remove background boxes from math/code blocks */
pre,
pre code,
.markdown pre,
.markdown pre code {
  background: none !important;
  padding: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  font-size: 1rem !important;
  color: #1f2937 !important;
}

/* Hard reset math blocks if all else fails */
.markdown pre,
.markdown pre code,
.markdown :where(pre, pre code) {
  all: unset;
  font-family: monospace;
  font-size: 1rem;
  color: #1f2937;
  margin: 1.5rem 0;
  display: block;
  white-space: pre-wrap;
}

/* Final override for inline code (e.g., `sqrt(2)`) */
.markdown code,
.prose code,
.markdown :not(pre) > code,
.prose :not(pre) > code {
  all: unset;
  font-family: monospace;
  font-size: 1rem;
  color: #1f2937;
}

/* Symbolic class for custom math */
.symbolic {
  font-family: monospace;
  font-size: 1rem;
  color: #1f2937;
  background: none;
  padding: 0;
  border-radius: 0;
}
