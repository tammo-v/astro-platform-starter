---
---

<script>
  let active = '';
  function toggle(menu) {
    active = active === menu ? '' : menu;
    const subnav = document.getElementById('subnav');
    subnav.setAttribute('data-active', active);
  }
</script>

<nav class="w-full isolate z-[9999] relative bg-white text-sm tracking-wide text-gray-800 border-b border-gray-100">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-start gap-x-8">
    <!-- Logo -->
    <a href="/" class="text-lg font-medium tracking-tight text-[var(--aubergine)] no-underline hover:opacity-80">
      Symbolic Computing
    </a>

    <!-- Top Navigation -->
    <ul class="flex items-center gap-x-6">
      <li><button on:click={() => toggle('foundation')} class="font-semibold text-gray-700 hover:text-[var(--aubergine)]">Foundation</button></li>
      <li><button on:click={() => toggle('architecture')} class="font-semibold text-gray-700 hover:text-[var(--aubergine)]">MAR Architecture</button></li>
      <li><a href="#" class="font-semibold text-gray-700 no-underline hover:underline hover:text-[var(--aubergine)]">Articles</a></li>
      <li><a href="#" class="font-semibold text-gray-700 no-underline hover:underline hover:text-[var(--aubergine)]">Patents</a></li>
      <li><a href="#" class="font-semibold text-gray-700 no-underline hover:underline hover:text-[var(--aubergine)]">Licensing</a></li>
      <li><a href="#" class="font-semibold text-gray-700 no-underline hover:underline hover:text-[var(--aubergine)]">Contact</a></li>
    </ul>
  </div>

  <!-- Subnavigation Area -->
  <div id="subnav" class="border-t border-gray-100 bg-gray-50" data-active="">
    <div class="max-w-6xl mx-auto px-6 py-2">
      <ul class="flex flex-wrap gap-x-6 gap-y-2" style="display: none;" id="subnav-foundation">
        <li><a href="/manifesto" class="text-gray-700 hover:text-[var(--aubergine)] font-medium">The Manifesto</a></li>
        <li><a href="/what-is-symbolic-computing" class="text-gray-700 hover:text-[var(--aubergine)] font-medium">What Is Symbolic Computing?</a></li>
        <li><span class="text-gray-400 font-medium">Introducing MAR</span></li>
      </ul>
      <ul class="flex flex-wrap gap-x-6 gap-y-2" style="display: none;" id="subnav-architecture">
        <li><span class="text-gray-400 font-medium">ASN</span></li>
        <li><span class="text-gray-400 font-medium">ADM</span></li>
        <li><span class="text-gray-400 font-medium">Software Layer</span></li>
        <li><span class="text-gray-400 font-medium">Hardware Layer</span></li>
        <li><span class="text-gray-400 font-medium">SEMS</span></li>
      </ul>
    </div>
  </div>

  <script is:inline>
    const subnav = document.getElementById('subnav');
    const updateSubnav = () => {
      const active = subnav.getAttribute('data-active');
      const groups = ['foundation', 'architecture'];
      groups.forEach((id) => {
        const el = document.getElementById(`subnav-${id}`);
        if (el) el.style.display = id === active ? 'flex' : 'none';
      });
    };
    updateSubnav();
    document.addEventListener('click', (e) => {
      const target = e.target.closest('button');
      if (target && target.onclick) {
        setTimeout(updateSubnav, 10);
      }
    });
  </script>
</nav>
